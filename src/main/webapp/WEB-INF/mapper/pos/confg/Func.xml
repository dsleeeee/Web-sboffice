<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.solbipos.pos.confg.func.service.impl.FuncMapper">

    <resultMap id="funcListMap" type="DefaultMap">
        <result column="POSI_ADJ_YN" property="posiAdjYn" typeHandler="CustomBooleanTypeHandler"/>
        <result column="FNKEY_USE_YN_0" property="fnkeyUseYn0" typeHandler="CustomBooleanTypeHandler"/>
        <result column="FNKEY_USE_YN_1" property="fnkeyUseYn1" typeHandler="CustomBooleanTypeHandler"/>
    </resultMap>

  <select id="getFuncList" parameterType="funcVO" resultMap="funcListMap">
    <![CDATA[
    /* FuncMapper.getFuncList */
    SELECT FNKEY_NO,
           FNKEY_NM,
           FNKEY_FG,
           STORE_FG,
           POS_FG,
           IMG_FILE_NM_0,
           IMG_FILE_NM_1,
           NVL(FNKEY_USE_YN_0, 'N') AS FNKEY_USE_YN_0,
           NVL(FNKEY_USE_YN_1, 'N') AS FNKEY_USE_YN_1,
           DISP_SEQ,
           NVL(POSI_ADJ_YN, 'N') AS POSI_ADJ_YN,
           COL_POSI,
           ROW_POSI,
           WIDTH,
           HEIGHT,
           USE_YN,
           REG_DT,
           REG_ID,
           MOD_DT,
           MOD_ID
      FROM TB_CM_POS_FNKEY
    ]]>
    <where>
      <if test='fnkeyFg != null and fnkeyFg != ""'>
        AND FNKEY_FG = ${fnkeyFg}
      </if>
    </where>
    <![CDATA[
     ORDER
        BY DISP_SEQ
    ]]>
  </select>

  <insert id="insertFunc" parameterType="funcVO">
    /* FuncMapper.insertFunc */
    INSERT INTO TB_CM_POS_FNKEY
    (
        FNKEY_NO,
        FNKEY_NM,
        FNKEY_FG,
        STORE_FG,
        POS_FG,
        IMG_FILE_NM_0,
        IMG_FILE_NM_1,
        FNKEY_USE_YN_0,
        FNKEY_USE_YN_1,
        DISP_SEQ,
        POSI_ADJ_YN,
        COL_POSI,
        ROW_POSI,
        WIDTH,
        HEIGHT,
        USE_YN,
        REG_DT,
        REG_ID,
        MOD_DT,
        MOD_ID
    )
    VALUES
    (
        (SELECT LPAD(MAX(FNKEY_NO)+1, 4, 0) FROM TB_CM_POS_FNKEY),
        #{fnkeyNm},
        #{fnkeyFg},
        #{storeFg},
        #{posFg},
        #{imgFileNm0},
        #{imgFileNm1},
        #{fnkeyUseYn0, jdbcType=VARCHAR},
        #{fnkeyUseYn1, jdbcType=VARCHAR},
        #{dispSeq},
        #{posiAdjYn, jdbcType=VARCHAR},
        #{colPosi},
        #{rowPosi},
        #{width},
        #{height},
        #{useYn},
        #{regDt},
        #{regId},
        #{modDt},
        #{modId}
    )

  </insert>

  <update id="updateFunc" parameterType="funcVO">
    /* FuncMapper.updateFunc */
    UPDATE TB_CM_POS_FNKEY
       SET FNKEY_NM     = #{fnkeyNm},
           FNKEY_FG     = #{fnkeyFg},
           STORE_FG     = #{storeFg},
           POS_FG       = #{posFg},
           IMG_FILE_NM_0    = #{imgFileNm0},
           IMG_FILE_NM_1    = #{imgFileNm1},
           FNKEY_USE_YN_0   = #{fnkeyUseYn0, jdbcType=VARCHAR},
           FNKEY_USE_YN_1   = #{fnkeyUseYn1, jdbcType=VARCHAR},
           DISP_SEQ     = #{dispSeq},
           POSI_ADJ_YN  = #{posiAdjYn, jdbcType=VARCHAR},
           COL_POSI     = #{colPosi},
           ROW_POSI     = #{rowPosi},
           WIDTH        = #{width},
           HEIGHT       = #{height},
           USE_YN       = #{useYn},
           MOD_DT       = #{modDt},
           MOD_ID       = #{modId}
     WHERE FNKEY_NO     = #{fnkeyNo}
  </update>

  <delete id="deleteFunc" parameterType="funcVO">
    /* FuncMapper.deleteFunc */
    DELETE TB_CM_POS_FNKEY
     WHERE FNKEY_NO = #{fnkeyNo}
  </delete>

</mapper>



